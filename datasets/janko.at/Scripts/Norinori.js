function Norinori(){var a=this;a.constructor();a.uis.puzzle=["Norinori"];var c=a.board.c,h=0,k=0,n=nil;a.charToValue=a.charToValue.concat(["a",0,"s",1,"d",nil,"x",0,"c",1,"v",nil,",",0,".",1,"-",nil,"/",nil]);a.cell.values=[0,1,n];a.enable.dragging=!0;a.keypad.left=nil;a.cell.nilalias=1;a.uic.dark[0]="#666666";a.init=function(){Object.getPrototypeOf(a).init.call(a)};a.reset2=function(){try{if(h=a.size.x,k=a.size.y,a.level.areas&&a.reset2areas(0,0,h,k,a.level.areas),a.level.solution)for(var b=0,f=
a.level.solution.replace(/\s+/g," ").trim().split(" "),g=0;g<k;g++)for(var l=0;l<h;l++){var d=c[l][g];"x"==f[b++]?d.solution=0:d.solution=1}}catch(e){throw a.exception(e),e;}};a.check2=function(){try{for(var b=0;b<h;b++)for(var f=0;f<k;f++){var g=c[b][f];if(0==g.checked){for(var l=0,d=0;d<h;d++)for(var e=0;e<k;e++)c[d][e].areas==g.areas&&(c[d][e].checked=!0,0==c[d][e].value&&l++);if(2!=l)for(d=0;d<h;d++)for(e=0;e<k;e++)c[d][e].areas==g.areas&&(c[d][e].error=1)}}l=1;for(b=0;b<h;b++)for(f=0;f<k;f++)g=
c[b][f],0==g.value&&0==g.count&&(b<h-1&&0==c[b+1][f].value?g.count=c[b+1][f].count=l++:f<k-1&&0==c[b][f+1].value?g.count=c[b][f+1].count=l++:(g.count=l++,c[b][f].error=2));for(b=0;b<h;b++)for(f=0;f<k;f++)if(g=c[b][f],0!=g.count)if(b<h-1&&0!=c[b+1][f].count&&c[b+1][f].count!=g.count)for(d=0;d<h;d++)for(e=0;e<k;e++){if(c[d][e].count==g.count||c[d][e].count==c[b+1][f].count)c[d][e].error=2}else if(f<k-1&&0!=c[b][f+1].count&&c[b][f+1].count!=g.count)for(d=0;d<h;d++)for(e=0;e<k;e++)if(c[d][e].count==g.count||
c[d][e].count==c[b][f+1].count)c[d][e].error=2}catch(m){throw a.exception(m),m;}};a.solve2=function(){try{for(var b=0;b<h;b++)for(var f=0;f<k;f++)c[b][f].checked=!1;for(b=0;b<h;b++)for(f=0;f<k;f++)if(!c[b][f].checked){for(var g=c[b][f].areas,l=0,d=0;d<h;d++)for(var e=0;e<k;e++)c[d][e].areas==g&&(c[d][e].checked=!0,l++);if(2==l)for(d=0;d<h;d++)for(e=0;e<k;e++)c[d][e].areas==g&&(c[d][e].value=0,0<d&&c[d-1][e].areas!=g&&(c[d-1][e].value=1),0<e&&c[d][e-1].areas!=g&&(c[d][e-1].value=1),d<h-1&&c[d+1][e].areas!=
g&&(c[d+1][e].value=1),e<k-1&&c[d][e+1].areas!=g&&(c[d][e+1].value=1))}}catch(m){throw a.exception(m),m;}};a.cleanSolution=function(){for(var b=0;b<h;b++)for(var a=0;a<k;a++){var g=c[b][a];g.value==nil&&(g.value=1)}};a.valueToString=function(b,a){switch(b){case nil:return"-";case 0:return"x";case 1:return a?".":"-";default:return"%"}};a.paintCell=function(b){try{var c=a.canvas.getContext("2d");c.fillStyle=b.value==nil?a.paintToImage&&a.moves.current==nil?a.uic.white:a.uic.gray:0==b.value?a.uic.dark[b.color]:
!a.solved&&a.display.errors?a.uic.light[b.count%10]:a.uic.light[b.color];c.fillRect(b.px,b.py,a.unit.x,a.unit.y);b.label!=nil&&a.paintText(b.label.toString(),b,{color:0!=b.value?a.uic.text:a.uic.text2});a.paintSymbolMarkers(b);b.error&&a.display.errors&&(b.label!=nil?a.paintErrorCircle(b):a.paintErrorDot(b))}catch(g){throw a.exception(g),g;}};a.paintCurrentValue=function(){try{var b=a.uie.value,c=b.getContext("2d");c.fillStyle=a.current.value==n?a.uic.gray:0==a.current.value?a.uic.black:a.uic.white;
c.fillRect(0,0,b.width,b.height)}catch(g){throw a.exception(g),g;}}}Norinori.prototype=new Puzzle;
