function Hakyuu(){var a=this;a.constructor();a.uis.puzzle=["Hakyuu"];var h=a.board.c,p=0,q=0,m=0,n=0;a.cell.min=1;a.cell.max=9;a.keypadValues=a.keypad.numbers;a.enable.vmarkers=!0;a.enable.pgrid=!1;a.enable.values=!1;a.enable.currentValue=!1;a.charToValue=a.charToValue.concat([".",nil,"/",nil,"-",nil]);a.init=function(){Object.getPrototypeOf(a).init.call(a)};a.reset2=function(){try{p=a.labels.west;q=a.labels.north;m=a.size.x-a.labels.east;n=a.size.y-a.labels.south;a.level.areas&&a.reset2areas(p,q,
m,n,a.level.areas);if(a.level.problem){var b=0;var c=a.level.problem.replace(/\s+/g," ").trim().split(" ");for(var e=q;e<n;e++)for(var d=p;d<m;d++){var f=h[d][e];var g=c[b++];"."==g||"-"==g?f.value=nil:(f.value=parseInt(g),f.fixed=!0)}}if(a.level.solution)for(b=0,c=a.level.solution.replace(/\s+/g," ").trim().split(" "),e=q;e<n;e++)for(d=p;d<m;d++)f=h[d][e],g=c[b++],f.solution="."==g||"-"==g?nil:parseInt(g)}catch(k){throw a.exception(k),k;}};a.check2=function(){try{for(var b=p;b<m;b++)for(var c=q;c<
n;c++){var e=h[b][c];if(e.value==nil)e.error=1;else if(!e.checked){for(var d=[],f=0,g=p,k=p;k<m;k++)for(var r=q;r<n;r++){var l=h[k][r];l.areas==e.areas&&(f++,l.value!=nil&&(d[l.value]?h[d[l.value][0]][d[l.value][1]].error=h[k][r].error=4:d[l.value]=[k,r],l.checked=!0,l.value>g&&(g=l.value)))}if(g!=f)for(k=p;k<m;k++)for(r=q;r<n;r++)l=h[k][r],l.areas==e.areas&&l.value>f&&(l.error=2)}}for(b=p;b<m;b++)for(c=q;c<n;c++)if(e=h[b][c],e.value!=nil){for(d=b+1;d<m&&d<=b+e.value;d++)l=h[d][c],l.value==e.value&&
(e.error=l.error=3);for(d=c+1;d<n&&d<=c+e.value;d++)l=h[b][d],l.value==e.value&&(e.error=l.error=3)}}catch(t){throw a.exception(t),t;}};a.moveTo2=function(b,c,e){try{a.cell.values=[];for(e=c=p;e<m;e++)for(var d=q;d<n;d++)h[e][d].areas==b.areas&&(a.cell.values[c++]=c);a.cell.values[c++]=nil;a.cell.max=c-1}catch(f){throw a.exception(f),f;}};a.makeMove2=function(b,c,e){try{a.cell.max=999,Object.getPrototypeOf(this).makeMove2.call(this,b,c,e)}catch(d){throw a.exception(d),d;}};a.initValueMarkers2=function(){try{for(var b=
p;b<m;b++)for(var c=q;c<n;c++)h[b][c].checked=!1;for(b=p;b<m;b++)for(c=q;c<n;c++){var e=h[b][c];if(!e.checked){for(var d=0,f=p;f<m;f++)for(var g=q;g<n;g++)h[f][g].areas==e.areas&&d++;for(f=p;f<m;f++)for(g=q;g<n;g++)if(h[f][g].areas==e.areas){h[f][g].checked=!0;for(var k=1;k<=d;k++)h[f][g].markers.set(a.marker.numberBase+k)}}}}catch(r){throw a.exception(r),r;}};a.updateValueMarkers2=function(){try{for(var b=p;b<m;b++)for(var c=q;c<n;c++)if(h[b][c].value!=nil){for(var e=h[b][c].areas,d=h[b][c].value,
f=p;f<m;f++)for(var g=q;g<n;g++)h[f][g].areas==e&&h[f][g].markers.clear(a.marker.numberBase+d);for(f=b-1;0<=f&&f>b-d-1;f--)h[f][c].markers.clear(a.marker.numberBase+d);for(f=b+1;f<m&&f<b+d+1;f++)h[f][c].markers.clear(a.marker.numberBase+d);for(g=c-1;0<=g&&g>c-d-1;g--)h[b][g].markers.clear(a.marker.numberBase+d);for(g=c+1;g<n&&g<c+d+1;g++)h[b][g].markers.clear(a.marker.numberBase+d)}}catch(k){throw a.exception(k),k;}};a.paintCell=function(b){try{var c=a.canvas.getContext("2d");c.fillStyle=a.uic.light[b.color];
c.fillRect(b.px,b.py,a.unit.x,a.unit.y);a.paintSymbolMarkers(b);a.paintValueMarkers(b);b.value!=nil&&a.paintText(b.value.toString(),b,{color:b.fixed?a.uic.clue:a.uic.text});b.error&&a.display.errors&&(b.value==nil?a.paintErrorDot(b):a.paintErrorCircle(b))}catch(e){throw a.exception(e),e;}}}Hakyuu.prototype=new Puzzle;
