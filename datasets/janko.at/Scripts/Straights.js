function Straights(){var a=this;a.constructor();a.uis.puzzle=["Str8ts"];a.enable.vmarkers=!0;a.enable.pgrid=!0;a.enable.values=!1;a.enable.currentValue=!1;a.charToValue=a.charToValue.concat(["0",nil,"-",nil,"/",nil]);a.init=function(){Object.getPrototypeOf(a).init.call(a)};a.reset2=function(){var b;try{a.cell.min=1;a.cell.max=a.size.z;a.cell.values=[];var g=0;for(b=1;b<=a.size.z;b++)a.cell.values[g++]=b.toString();a.cell.values[g++]=nil;g=a.size.z;a.keypadValues=a.keypad.numbers.slice(0,g);a.keypadValues[g++]=
["\u2022",nil];a.infoText=a.uis.get("numbers")+": 1~"+a.size.z;if(a.level.problem){b=0;var e=a.level.problem.replace(/\s+/g," ").trim().split(" ");for(var d=0;d<a.size.y;d++)for(var f=0;f<a.size.x;f++){var h=a.board.c[f][d];var c=e[b++];c.endsWith("x")&&(h.label=0,h.fixed=!0,c=c.slice(0,c.length-1));""!=c&&("."==c||"-"==c?h.value=nil:(h.value=parseInt(c),h.fixed=!0))}}if(a.level.solution)for(b=0,e=a.level.solution.replace(/\s+/g," ").trim().split(" "),d=0;d<a.size.y;d++)for(f=0;f<a.size.x;f++)h=a.board.c[f][d],
c=e[b++],h.solution="."==c||"-"==c?nil:parseInt(c)}catch(k){throw a.exception(k),k;}};a.check2=function(){try{for(var b=0;b<a.size.x;b++){var g=[];var e=[];for(var d=0;d<a.size.y;d++){var f=a.board.c[b][d];f.value==nil?0!=f.label&&(f.error=1):(void 0===g[f.value]?g[f.value]=d:f.error=a.board.c[b][g[f.value]].error=3,0!=f.label&&(e[f.value]=d));if(d==a.size.y-1||0==f.label){var h=0;for(var c=1;c<=a.size.z;c++)void 0===e[c-1]&&void 0!==e[c]&&h++;if(1<h)for(c=1;c<a.size.z;c++)void 0!==e[c]&&(a.board.c[b][e[c]].error=
2);e=[]}}}for(d=0;d<a.size.y;d++)for(g=[],e=[],b=0;b<a.size.x;b++)if(f=a.board.c[b][d],f.value==nil?0!=f.label&&(f.error=1):(void 0===g[f.value]?g[f.value]=b:f.error=a.board.c[g[f.value]][d].error=3,0!=f.label&&(e[f.value]=b)),b==a.size.x-1||0==f.label){h=0;for(c=1;c<=a.size.z;c++)void 0===e[c-1]&&void 0!==e[c]&&h++;if(1<h)for(c=1;c<a.size.z;c++)void 0!==e[c]&&(a.board.c[e[c]][d].error=2);e=[]}}catch(k){throw a.exception(k),k;}};a.initValueMarkers2=function(){for(var b=0;b<a.size.x;b++)for(var g=
0;g<a.size.y;g++)for(var e=1;e<=a.size.z;e++)a.board.c[b][g].markers.set(a.marker.numberBase+e)};a.updateValueMarkers2=function(){for(var b=0;b<a.size.x;b++)for(var g=0;g<a.size.y;g++){var e=a.board.c[b][g];if(e.value!=nil){for(var d=0;d<a.size.x;d++)a.board.c[d][g].markers.clear(a.marker.numberBase+e.value);for(d=0;d<a.size.y;d++)a.board.c[b][d].markers.clear(a.marker.numberBase+e.value)}}};a.paintCell=function(b){try{var g=a.canvas.getContext("2d");g.fillStyle=0==b.label?a.uic.black:a.uic.light[b.color];
g.fillRect(b.px,b.py,a.unit.x,a.unit.y);a.paintSymbolMarkers(b);a.paintValueMarkers(b);if(b.value!=nil){var e=a.uic.text;0==b.label?e=a.uic.text2:b.fixed&&(e=a.uic.clue);a.paintText(b.value.toString(),b,{color:e})}b.error&&a.display.errors&&(b.value==nil?a.paintErrorDot(b):a.paintErrorCircle(b))}catch(d){throw a.exception(d),d;}}}Straights.prototype=new Puzzle;
